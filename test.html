<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Tour Packages â€“ Green Eagle Tours & Travels</title>

<link rel="icon" href="images/logo.png">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@300;400;600&family=Inter:wght@400;600&display=swap" rel="stylesheet">
<link rel="stylesheet" href="style.css">

<!-- PAGE-ONLY CSS -->
<style>
/* PAGE-SPECIFIC OVERRIDES ONLY */
@media(max-width:768px){
  body{font-size:12px}
  h1{font-size:25px}
  h5{font-size:14px}
}

/* Use style.css variables */
:root {
  --primary: #0d5568;
  --accent: #20b2aa;
  --gold: #d4af37;
}

/* chips */
.chip{
  border:1px solid rgba(32, 178, 170, 0.3);
  background: rgba(32, 178, 170, 0.08);
  padding:10px 16px;
  border-radius:30px;
  cursor:pointer;
  margin:6px;
  display:inline-block;
  transition: all 0.3s;
  color: #fff;
}
.chip.active{
  background: var(--accent);
  color:#fff;
  border-color: var(--accent);
  box-shadow: 0 4px 15px rgba(32, 178, 170, 0.3);
}
.chip.disabled{
  opacity: 0.3;
  cursor: not-allowed;
  pointer-events: none;
}

/* toggles */
.toggle-btn{
  background: rgba(32, 178, 170, 0.08);
  border: 2px solid rgba(32, 178, 170, 0.3);
  padding:14px;
  border-radius:16px;
  cursor:pointer;
  transition: all 0.3s;
  color: #fff;
  font-weight: 600;
  text-align: center;
}
.toggle-btn.active{
  background: rgba(32, 178, 170, 0.25);
  border-color: var(--accent);
  border-width: 3px;
  box-shadow: 0 0 0 4px rgba(32, 178, 170, 0.2);
}

/* stay */
.stay-option{
  background: rgba(32, 178, 170, 0.08);
  border: 2px solid rgba(32, 178, 170, 0.25);
  padding:10px;
  border-radius:16px;
  cursor:pointer;
  text-align:center;
  transition: all 0.3s;
  color: #fff;
  font-size: 14px;
  font-weight: 500;
}
.stay-option.active{
  background: rgba(32, 178, 170, 0.25);
  border-color: var(--accent);
  border-width: 3px;
  box-shadow: 0 0 0 4px rgba(32, 178, 170, 0.2);
  transform: scale(1.05);
}

/* buttons */
.book-btn{
  background: linear-gradient(135deg, var(--accent), #168f88);
  color: #fff !important;
  border:none;
  padding:14px;
  border-radius:30px;
  font-weight:600;
  width:100%;
  cursor: pointer;
  transition: all 0.3s;
  box-shadow: 0 8px 25px rgba(32, 178, 170, 0.3);
}
.book-btn:hover{
  transform: translateY(-3px);
  box-shadow: 0 12px 35px rgba(32, 178, 170, 0.4);
}
.book-btn:disabled{
  opacity: 0.5;
  cursor: not-allowed;
  transform: none;
}

/* alert box */
.alert-box{
  background: rgba(32, 178, 170, 0.1);
  border: 1px solid var(--accent);
  border-radius: 16px;
  padding: 16px;
  margin-top: 20px;
  display: none;
  color: #fff;
}
.alert-box.show{
  display: block;
  animation: slideDown 0.3s ease-out;
}

@keyframes slideDown {
  from {
    opacity: 0;
    transform: translateY(-10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* counter */
.place-counter{
  background: rgba(32, 178, 170, 0.15);
  border: 1px solid rgba(32, 178, 170, 0.3);
  padding: 8px 16px;
  border-radius: 20px;
  display: inline-block;
  margin-left: 10px;
  font-size: 14px;
  color: var(--accent);
  font-weight: 600;
}

/* modal inputs unified */
.modal-content{
  background: linear-gradient(135deg, #d4af37 0%, #e6c75f 50%, #c9a227 100%) !important;
  border-radius: 20px !important;
  border: none !important;
  box-shadow: 0 20px 50px rgba(0,0,0,0.35) !important;
}
.modal-content h5{
  color: #000000 !important;
  font-weight: 600 !important;
}
.modal-content input,
.modal-content input:focus{
  background: #ffffff !important;
  color: #000000 !important;
  border-radius: 14px !important;
  padding: 14px 16px !important;
  border: 1px solid rgba(0,0,0,0.18) !important;
  outline: none;
}
.modal-content input::placeholder{
  color: rgba(0,0,0,0.6) !important;
}
.modal-content input[type="datetime-local"]::-webkit-calendar-picker-indicator{
  filter: invert(0) !important;
}
.modal-content small {
  color: rgba(0,0,0,0.7) !important;
  font-weight: 500 !important;
}

.accordion-item {
  background: rgba(255,255,255,0.05);
  border: 1px solid rgba(32, 178, 170, 0.2);
  border-radius: 16px;
  margin-bottom: 12px;
}

.accordion-button {
  background: rgba(32, 178, 170, 0.05);
  color: #fff;
  font-weight: 600;
  border-radius: 16px;
  border: none;
}

.accordion-button:not(.collapsed) {
  background: rgba(32, 178, 170, 0.15);
  color: var(--accent);
  box-shadow: none;
}

.accordion-button:focus {
  box-shadow: none;
  border: none;
}

.accordion-body {
  color: rgba(255,255,255,0.85);
  background: transparent;
}

.accordion-button::after {
  filter: invert(1) brightness(2);
}

.btn-hover-black:hover,
.btn-hover-black:hover i {
  color: #fff !important;
  transform: translateY(-2px);
}

.hero-section {
  position: relative;
  min-height: 65vh;
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
}

.hero-bg {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: linear-gradient(135deg, #0d5568 0%, #1a7a92 50%, #168f88 100%);
  z-index: -1;
}

.hero-bg::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0,0,0,0.3);
}

.hero-content {
  position: relative;
  z-index: 1;
}

.hero-title {
  font-family: 'Cormorant Garamond', serif;
  font-size: 48px;
  font-weight: 600;
  margin: 20px 0;
}

.hero-subtitle {
  opacity: 0.85;
  font-size: 18px;
}

/* Form inputs matching home page style */
.form-control {
  background: rgba(32, 178, 170, 0.08) !important;
  border: 1px solid rgba(32, 178, 170, 0.25) !important;
  border-radius: 16px !important;
  padding: 14px 18px !important;
  color: #fff !important;
  font-size: 15px !important;
  transition: all 0.3s !important;
}

.form-control:focus {
  background: rgba(32, 178, 170, 0.15) !important;
  border-color: var(--accent) !important;
  box-shadow: 0 0 0 4px rgba(32, 178, 170, 0.2) !important;
  color: #fff !important;
  outline: none !important;
}

.form-control::placeholder {
  color: rgba(255, 255, 255, 0.5) !important;
}

/* Remove redundant nav/footer/fab styles - use style.css */
</style>
</head>

<body>

<!-- NAV -->
<nav class="glass-nav">
<div class="container d-flex justify-content-between align-items-center py-3">
  <div class="logo-wrapper">
    <img src="images/logo.png" alt="Green Eagle Tours" class="nav-logo">
  </div>
  <div class="d-none d-lg-flex gap-5">
    <a href="index.html" class="nav-link">Home</a>
    <a href="tour-packages.html" class="nav-link">Tour Packages</a>
    <a href="hourly-packages.html" class="nav-link">Hourly Packages</a>
    <a href="services.html" class="nav-link">Services</a>
    <a href="about.html" class="nav-link">About</a>
    <a href="contact.html" class="nav-link">Contact</a>
  </div>
</div>
</nav>

<!-- MOBILE MENU -->
<div class="menu-overlay" id="menuOverlay" onclick="closeMenu()"></div>

<div class="mobile-menu" id="mobileMenu">
  <img src="images/logo.png" alt="Green Eagle Tours" style="width:140px;margin-bottom:40px;">
  <a href="index.html" onclick="closeMenu()">Home</a>
  <a href="tour-packages.html" class="active" onclick="closeMenu()">Tour Packages</a>
  <a href="hourly-packages.html" onclick="closeMenu()">Hourly Packages</a>
  <a href="services.html" onclick="closeMenu()">Services</a>
  <a href="about.html" onclick="closeMenu()">About</a>
  <a href="contact.html" onclick="closeMenu()">Contact</a>
</div>

<!-- HERO -->
<section class="hero-section">
  <div class="hero-bg"></div>
  <div class="container hero-content text-center">
    <div style="color:var(--gold);letter-spacing:3px;font-size:14px;">TOUR PACKAGES</div>
    <h1 class="hero-title">Plan Your Perfect South India Trip</h1>
    <p class="hero-subtitle mx-auto" style="max-width:700px;">
      Select duration, travel type & destinations. Final details in one simple step.
    </p>
  </div>
</section>

<section style="background:#0f172a">
<div class="container py-5">
  <form onsubmit="return false">

    <!-- DURATION -->
    <h5>Trip Duration <span class="text-danger">*</span></h5>
    <div>
      <span class="chip" onclick="setDuration('1 Day')">1 Day</span>
      <span class="chip" onclick="setDuration('2D / 1N')">2D / 1N</span>
      <span class="chip" onclick="setDuration('3D / 2N')">3D / 2N</span>
      <span class="chip" onclick="setDuration('4D / 3N')">4D / 3N</span>
      <span class="chip" onclick="setDuration('5D / 4N')">5D / 4N</span>
    </div>

    <!-- CATEGORY -->
    <h5 class="mt-4">Trip Type <span class="text-danger">*</span></h5>
    <div>
      <span class="chip" onclick="setCategory('Hill Station')">Hill Station</span>
      <span class="chip" onclick="setCategory('Pilgrimage')">Pilgrimage</span>
      <span class="chip" onclick="setCategory('Beach')">Beach</span>
      <span class="chip" onclick="setCategory('Honeymoon')">Honeymoon</span>
      <span class="chip" onclick="setCategory('Group Tour')">Group Tour</span>
      <span class="chip" onclick="setCategory('City Tour')">City Tour</span>
    </div>

    <!-- PLACES -->
    <div id="placesSection" style="display:none;">
      <h5 class="mt-4">
        Select Destinations <span class="text-danger">*</span>
        <span class="place-counter" id="placeCounter">0/0 selected</span>
      </h5>
      <div id="placesBox"></div>
      <input
        id="customPlace"
        class="form-control mt-2"
        placeholder="Other place (optional)"
        style="background:#0f2a3a!important;color:#fff!important;border-radius:18px;padding:16px;border:1px solid rgba(255,255,255,.2);"
        onblur="addCustomPlace()"
      >

      <!-- Alert Box -->
      <div id="alertBox" class="alert-box">
        <i class="bi bi-exclamation-triangle-fill me-2"></i>
        <span id="alertText"></span>
      </div>
    </div>

    <!-- ACCOMMODATION -->
    <h5 class="mt-4">Need Accommodation? <span class="text-danger">*</span></h5>
    <div class="row g-3">
      <div class="col-md-6 toggle-btn" onclick="setAccom(true)">Yes</div>
      <div class="col-md-6 toggle-btn" onclick="setAccom(false)">No</div>
    </div>

    <!-- ACCOMMODATION BOX -->
    <div id="accomBox" style="display:none">

      <!-- ADULTS & CHILDREN -->
      <div class="row mt-4">
        <div class="col-md-6">
          <label>Adults</label>
          <input
            id="adult"
            type="number"
            min="1"
            value="1"
            class="form-control"
            style="background:#0f2a3a!important;color:#fff!important;border-radius:18px;padding:16px;border:1px solid rgba(255,255,255,.2);"
          >
        </div>

        <div class="col-md-6">
          <label>Children</label>
          <input
            id="child"
            type="number"
            min="0"
            value="0"
            class="form-control"
            style="background:#0f2a3a!important;color:#fff!important;border-radius:18px;padding:16px;border:1px solid rgba(255,255,255,.2);"
            onchange="updateChildAges()"
          >
        </div>
      </div>

      <!-- CHILD AGES -->
      <div id="childAges" class="mt-3" style="display:none;">
        <label>Children Ages</label>
        <div id="childAgesInputs"></div>
      </div>

      <!-- STAY TYPE -->
      <h5 class="mt-4">Accommodation Style</h5>
      <div class="row g-3">
        <div class="col stay-option" onclick="setStay(this,'Budget')">Budget</div>
        <div class="col stay-option" onclick="setStay(this,'Home Stay')">Home Stay</div>
        <div class="col stay-option active" onclick="setStay(this,'3-Star')">3-Star</div>
        <div class="col stay-option" onclick="setStay(this,'4-Star')">4-Star</div>
        <div class="col stay-option" onclick="setStay(this,'5-Star')">5-Star</div>
      </div>

    </div>

    <!-- BOOK -->
    <div class="mt-5">
      <button class="book-btn" id="bookBtn" onclick="openModal()" disabled>Book Now</button>
      <p class="text-center mt-3" style="opacity:0.7;font-size:14px;" id="bookHint">
        Please select duration, trip type, and destinations to continue
      </p>
    </div>

  </form>

</div>
</section>

<!-- MODAL -->
<div class="modal fade" id="finalModal">
<div class="modal-dialog modal-dialog-centered">
<div class="modal-content p-4">
<h5 class="mb-3">Enter Trip Details</h5>
<input id="m_name" placeholder="Your Name" class="form-control mb-2" required>
<input id="m_phone" placeholder="Phone Number" class="form-control mb-2" required>
<input id="m_pickup" placeholder="Pickup Location" class="form-control mb-2" required>
<input id="m_drop" placeholder="Drop Location" class="form-control mb-2" required>
<small class="text-muted d-block mb-2">
  Select pickup date & time
</small>
<input id="m_time" type="datetime-local" class="form-control mb-3" required>
<button class="book-btn" onclick="sendWA()">Send WhatsApp</button>
</div>
</div>
</div>

<!-- FAQ SECTION -->
<section style="background:#0f172a">
  <div class="container py-5">

    <div class="text-center mb-5">
      <div style="color:var(--gold);letter-spacing:3px;font-size:14px;">FAQ</div>
      <h2 class="hero-title" style="font-size:32px;">Frequently Asked Questions</h2>
      <p class="hero-subtitle mx-auto" style="max-width:720px;">
        Clear answers to help you plan your South India tour with confidence.
        If you still have doubts, call us and we will plan your itinerary together.
      </p>
    </div>

    <div class="accordion" id="faqAccordion">

      <div class="accordion-item mb-3">
        <h2 class="accordion-header">
          <button class="accordion-button collapsed" data-bs-toggle="collapse" data-bs-target="#faq1">
            What destinations do you cover in South India?
          </button>
        </h2>
        <div id="faq1" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
          <div class="accordion-body">
            We cover all major South India destinations including
            Tamil Nadu, Kerala, Karnataka, and Andhra Pradesh.
            Popular routes include Ooty, Kodaikanal, Munnar, Coorg,
            Rameswaram, Madurai, Kanyakumari, Wayanad, and many more.
            Custom destinations can also be added.
          </div>
        </div>
      </div>

      <div class="accordion-item mb-3">
        <h2 class="accordion-header">
          <button class="accordion-button collapsed" data-bs-toggle="collapse" data-bs-target="#faq2">
            Can I customize my tour itinerary?
          </button>
        </h2>
        <div id="faq2" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
          <div class="accordion-body">
            Yes. All our tour packages are fully customizable.
            You can choose trip duration, destinations, travel type,
            accommodation style, and pickup & drop locations.
            We plan the itinerary together based on your comfort and budget.
          </div>
        </div>
      </div>

      <div class="accordion-item mb-3">
        <h2 class="accordion-header">
          <button class="accordion-button collapsed" data-bs-toggle="collapse" data-bs-target="#faq3">
            Do you provide accommodation booking?
          </button>
        </h2>
        <div id="faq3" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
          <div class="accordion-body">
            Yes, accommodation is optional.
            We offer budget hotels, home stays, 3-star, 4-star,
            and 5-star properties based on availability and your preference.
            You may also choose travel-only packages.
          </div>
        </div>
      </div>

      <div class="accordion-item mb-3">
        <h2 class="accordion-header">
          <button class="accordion-button collapsed" data-bs-toggle="collapse" data-bs-target="#faq4">
            Is this suitable for family and senior citizens?
          </button>
        </h2>
        <div id="faq4" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
          <div class="accordion-body">
            Absolutely. Our itineraries are planned with realistic travel
            timings, comfortable breaks, and easy sightseeing options.
            We prioritize safety, comfort, and convenience for families
            and senior travelers.
          </div>
        </div>
      </div>

      <div class="accordion-item mb-3">
        <h2 class="accordion-header">
          <button class="accordion-button collapsed" data-bs-toggle="collapse" data-bs-target="#faq5">
            What vehicles do you provide for tours?
          </button>
        </h2>
        <div id="faq5" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
          <div class="accordion-body">
            We provide clean and well-maintained vehicles including
            Sedans, Ertiga, Innova, Tempo Traveller, and Mini Coaches.
            Vehicle type is selected based on group size and comfort.
          </div>
        </div>
      </div>

      <div class="accordion-item mb-3">
        <h2 class="accordion-header">
          <button class="accordion-button collapsed" data-bs-toggle="collapse" data-bs-target="#faq6">
            What if I have doubts or need changes after booking?
          </button>
        </h2>
        <div id="faq6" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
          <div class="accordion-body">
            You can call or WhatsApp us anytime.
            Our team will assist you with itinerary changes,
            pickup adjustments, or additional requirements.
            We believe in flexible and friendly service.
          </div>
        </div>
      </div>

    </div>

    <div class="text-center mt-5">
      <p style="opacity:.85;max-width:700px;margin:0 auto 20px;">
        Still unsure? One call is enough.
        We will plan your South India itinerary together.
      </p>

      <a href="tel:+919751415617"
       class="btn-luxury btn-hover-black"
       style="max-width:320px;margin:auto;">
      <i class="bi bi-telephone-fill me-2"></i>
      <span>Call Now for Travel Advice</span>
    </a>
  </div>
</section>

<!-- FOOTER -->
<footer>
  <div class="container">
    <div class="text-center">
      <img src="images/logo.png" alt="Green Eagle Tours" style="height: 70px; margin-bottom: 20px;">

      <p style="opacity: 0.8; max-width: 600px; margin: 0 auto 30px;">
        Your premier travel partner for curated journeys from Coimbatore across South India. Excellence in every mile.
      </p>

      <div class="footer-divider"></div>

      <div class="mb-4">
        <a href="https://wa.me/919751415617" class="social-link" target="_blank">
          <i class="bi bi-whatsapp"></i>
        </a>
        <a href="tel:+919751415617" class="social-link">
          <i class="bi bi-telephone-fill"></i>
        </a>
        <a href="mailto:support@greeneagletours.com" class="social-link">
          <i class="bi bi-envelope-fill"></i>
        </a>
        <a href="https://www.facebook.com/share/1GHVkhtPcd/" class="social-link" target="_blank">
          <i class="bi bi-facebook"></i>
        </a>
        <a href="https://www.instagram.com/green_eagle_holidays?igsh=MW9zcmtlYXlpeXRoYg==" class="social-link" target="_blank">
          <i class="bi bi-instagram"></i>
        </a>
      </div>

      <p style="font-size: 14px; opacity: 0.7;">GST : 33BVFPG0418P1ZM</p>
      <p style="font-size: 14px; opacity: 0.7;">
        78, Siruvani Main Rd, Post office upstairs, Perur, Coimbatore, Tamil Nadu 641010
      </p>
      <p style="font-size: 14px; opacity: 0.7;">Â© 2026 Green Eagle Tours & Travels.</p>
      <p style="font-size: 14px; opacity: 0.7;">
        Designed & curated by
        <a href="https://marcinmind.in" target="_blank" style="text-decoration: none; color: var(--gold);">
          Marc in Mind Technologies
        </a>.
      </p>
    </div>
  </div>
</footer>

<!-- FLOATING ACTION BAR -->
<div class="fab-bar" id="fabBar">
  <div class="container-fluid px-0">
    <div class="row g-0">
      <div class="col d-lg-none">
        <a href="index.html" class="fab-item">
          <i class="bi bi-house-fill"></i>
          <span>Home</span>
        </a>
      </div>
      <div class="col">
        <a href="mailto:support@greeneagletours.com" class="fab-item">
          <i class="bi bi-envelope-fill"></i>
          <span>Mail</span>
        </a>
      </div>
      <div class="col">
        <a href="https://wa.me/919751415617" class="fab-item" target="_blank">
          <i class="bi bi-whatsapp"></i>
          <span>WhatsApp</span>
        </a>
      </div>
      <div class="col">
        <a href="tel:+919751415617" class="fab-item">
          <i class="bi bi-telephone-fill"></i>
          <span>Call</span>
        </a>
      </div>
      <div class="col d-lg-none">
        <a href="javascript:void(0)" onclick="openMenu()" class="fab-item">
          <i class="bi bi-list"></i>
          <span>Menu</span>
        </a>
      </div>
    </div>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<script>
/* =========================
   MOBILE MENU
========================= */
function openMenu() {
  document.getElementById('mobileMenu').classList.add('active');
  document.getElementById('menuOverlay').classList.add('active');
}

function closeMenu() {
  document.getElementById('mobileMenu').classList.remove('active');
  document.getElementById('menuOverlay').classList.remove('active');
}

/* =========================
   GLOBAL STATE
========================= */
const data = {
  duration: "",
  category: "",
  places: [],
  stay: "3-Star",
  accom: null
};

/* =========================
   DESTINATION DATABASE
========================= */
const destinationDB = {
  "Hill Station": {
    "1 Day": ["Coimbatore Local", "Ooty", "Coonoor", "Pollachi", "Valparai", "Palakkad"],
    "2D / 1N": ["Coimbatore Local", "Ooty", "Coonoor", "Pollachi", "Valparai", "Kodaikanal", "Munnar", "Palakkad", "Topslip"],
    "3D / 2N": ["Coimbatore Local", "Ooty", "Coonoor", "Kodaikanal", "Munnar", "Valparai", "Wayanad", "Coorg", "Pollachi", "Palakkad", "Kotagiri", "Topslip"],
    "4D / 3N": ["Coimbatore Local", "Ooty", "Coonoor", "Kodaikanal", "Munnar", "Valparai", "Wayanad", "Coorg", "Mysore", "Pollachi", "Palakkad", "Kotagiri", "Topslip", "Vattakanal"],
    "5D / 4N": ["Coimbatore Local", "Ooty", "Coonoor", "Kodaikanal", "Munnar", "Valparai", "Wayanad", "Coorg", "Mysore", "Yercaud", "Pollachi", "Palakkad", "Kotagiri", "Topslip", "Vattakanal", "Vagamon"]
  },
  "Pilgrimage": {
    "1 Day": ["Coimbatore Local", "Palani"],
    "2D / 1N": ["Coimbatore Local", "Palani", "Madurai", "Palakkad", "Thrissur"],
    "3D / 2N": ["Coimbatore Local", "Palani", "Madurai", "Rameswaram", "Palakkad", "Thrissur", "Guruvayur"],
    "4D / 3N": ["Coimbatore Local", "Palani", "Madurai", "Rameswaram", "Kanyakumari", "Tiruchendur", "Palakkad", "Thrissur", "Guruvayur", "Srivilliputhur"],
    "5D / 4N": ["Coimbatore Local", "Palani", "Madurai", "Rameswaram", "Kanyakumari", "Tiruchendur", "Trivandrum", "Palakkad", "Thrissur", "Guruvayur", "Tirupati", "Srirangam", "Chidambaram", "Velankanni"]
  },
  "Beach": {
    "1 Day": ["Coimbatore Local"],
    "2D / 1N": ["Coimbatore Local", "Kochi"],
    "3D / 2N": ["Coimbatore Local", "Kochi", "Kovalam", "Varkala", "Alappuzha"],
    "4D / 3N": ["Coimbatore Local", "Kochi", "Kovalam", "Varkala", "Alappuzha", "Kanyakumari", "Mahabalipuram", "Pondicherry"],
    "5D / 4N": ["Coimbatore Local", "Kochi", "Kovalam", "Varkala", "Alappuzha", "Kanyakumari", "Mahabalipuram", "Pondicherry", "Rameswaram", "Trivandrum", "Bekal", "Gokarna"]
  },
  "Honeymoon": {
    "1 Day": ["Coimbatore Local", "Ooty", "Valparai"],
    "2D / 1N": ["Coimbatore Local", "Ooty", "Coonoor", "Kodaikanal", "Munnar", "Valparai"],
    "3D / 2N": ["Coimbatore Local", "Ooty", "Coonoor", "Kodaikanal", "Munnar", "Valparai", "Wayanad", "Coorg", "Vagamon", "Alleppey"],
    "4D / 3N": ["Coimbatore Local", "Ooty", "Coonoor", "Kodaikanal", "Munnar", "Valparai", "Wayanad", "Coorg", "Vagamon", "Alleppey", "Kumarakom", "Vattakanal"],
    "5D / 4N": ["Coimbatore Local", "Ooty", "Coonoor", "Kodaikanal", "Munnar", "Valparai", "Wayanad", "Coorg", "Vagamon", "Alleppey", "Kumarakom", "Vattakanal", "Kovalam", "Yercaud"]
  },
  "Group Tour": {
    "1 Day": ["Coimbatore Local", "Ooty", "Pollachi", "Valparai"],
    "2D / 1N": ["Coimbatore Local", "Ooty", "Coonoor", "Kodaikanal", "Munnar", "Valparai", "Mysore", "Pollachi"],
    "3D / 2N": ["Coimbatore Local", "Ooty", "Coonoor", "Kodaikanal", "Munnar", "Valparai", "Wayanad", "Coorg", "Mysore", "Madurai", "Pollachi"],
    "4D / 3N": ["Coimbatore Local", "Ooty", "Coonoor", "Kodaikanal", "Munnar", "Valparai", "Wayanad", "Coorg", "Mysore", "Madurai", "Rameswaram", "Kochi", "Pollachi", "Kanyakumari"],
    "5D / 4N": ["Coimbatore Local", "Ooty", "Coonoor", "Kodaikanal", "Munnar", "Valparai", "Wayanad", "Coorg", "Mysore", "Madurai", "Rameswaram", "Kanyakumari", "Kochi", "Trivandrum", "Bangalore", "Pollachi"]
  },
  "City Tour": {
    "1 Day": ["Coimbatore Local", "Pollachi", "Palakkad"],
    "2D / 1N": ["Coimbatore Local", "Mysore", "Kochi", "Thrissur", "Pollachi", "Palakkad"],
    "3D / 2N": ["Coimbatore Local", "Mysore", "Kochi", "Madurai", "Thrissur", "Pollachi", "Palakkad", "Bangalore"],
    "4D / 3N": ["Coimbatore Local", "Mysore", "Kochi", "Madurai", "Bangalore", "Thrissur", "Pollachi", "Palakkad", "Pondicherry", "Trichy"],
    "5D / 4N": ["Coimbatore Local", "Mysore", "Kochi", "Madurai", "Bangalore", "Trivandrum", "Thrissur", "Pollachi", "Palakkad", "Pondicherry", "Trichy", "Chennai"]
  }
};

// Maximum places allowed per duration
const maxPlaces = {
  "1 Day": 2,
  "2D / 1N": 3,
  "3D / 2N": 4,
  "4D / 3N": 5,
  "5D / 4N": 7
};

/* =========================
   UI HELPERS
========================= */
function activateChip(el) {
  const siblings = el.parentNode.querySelectorAll(".chip");
  siblings.forEach(c => c.classList.remove("active"));
  el.classList.add("active");
}

function showAlert(message) {
  const alertBox = document.getElementById('alertBox');
  const alertText = document.getElementById('alertText');
  alertText.textContent = message;
  alertBox.classList.add('show');

  setTimeout(() => {
    alertBox.classList.remove('show');
  }, 5000);
}

function updateCounter() {
  const max = maxPlaces[data.duration] || 0;
  const current = data.places.length;
  const counter = document.getElementById('placeCounter');
  counter.textContent = `${current}/${max} selected`;

  if (current >= max) {
    showAlert(`Maximum ${max} destinations allowed for ${data.duration} trip`);
  }
}

function validateBooking() {
  const hasEssentials = data.duration && data.category && data.places.length > 0 && data.accom !== null;
  const bookBtn = document.getElementById('bookBtn');
  const bookHint = document.getElementById('bookHint');

  if (hasEssentials) {
    bookBtn.disabled = false;
    bookHint.textContent = "All set! Click to proceed with booking";
    bookHint.style.color = "var(--gold)";
  } else {
    bookBtn.disabled = true;
    bookHint.textContent = "Please select duration, trip type, and destinations to continue";
    bookHint.style.color = "rgba(255,255,255,0.7)";
  }
}

/* =========================
   DURATION
========================= */
function setDuration(value) {
  data.duration = value;
  activateChip(event.target);

  // Reset places when duration changes
  data.places = [];

  // If category is already selected, update places
  if (data.category) {
    updatePlacesForCategory();
  }

  validateBooking();
}

/* =========================
   CATEGORY
========================= */
function setCategory(value) {
  data.category = value;
  activateChip(event.target);

  // Reset places
  data.places = [];

  updatePlacesForCategory();
  validateBooking();
}

function updatePlacesForCategory() {
  const placesSection = document.getElementById('placesSection');
  const placesBox = document.getElementById('placesBox');

  if (!data.duration || !data.category) {
    placesSection.style.display = 'none';
    return;
  }

  placesSection.style.display = 'block';
  placesBox.innerHTML = "";

  const availablePlaces = destinationDB[data.category][data.duration] || [];

  availablePlaces.forEach(place => {
    const chip = document.createElement("span");
    chip.className = "chip";
    chip.textContent = place;
    chip.onclick = () => togglePlace(chip, place);
    placesBox.appendChild(chip);
  });

  updateCounter();
}

/* =========================
   PLACES
========================= */
function togglePlace(el, place) {
  const max = maxPlaces[data.duration] || 0;

  if (el.classList.contains("active")) {
    // Remove place
    el.classList.remove("active");
    data.places = data.places.filter(p => p !== place);
  } else {
    // Add place
    if (data.places.length >= max) {
      showAlert(`Maximum ${max} destinations allowed for ${data.duration} trip`);
      return;
    }
    el.classList.add("active");
    data.places.push(place);
  }

  updateCounter();
  validateBooking();
}

function addCustomPlace() {
  const value = document.getElementById('customPlace').value.trim();
  if (!value) return;

  const max = maxPlaces[data.duration] || 0;

  if (data.places.length >= max) {
    showAlert(`Maximum ${max} destinations allowed for ${data.duration} trip`);
    document.getElementById('customPlace').value = "";
    return;
  }

  if (!data.places.includes(value)) {
    data.places.push(value);

    // Add visual chip
    const placesBox = document.getElementById('placesBox');
    const chip = document.createElement("span");
    chip.className = "chip active";
    chip.textContent = value;
    chip.onclick = () => {
      chip.classList.remove("active");
      data.places = data.places.filter(p => p !== value);
      updateCounter();
      validateBooking();
    };
    placesBox.appendChild(chip);

    updateCounter();
    validateBooking();
  }

  document.getElementById('customPlace').value = "";
}

/* =========================
   ACCOMMODATION
========================= */
function setAccom(value) {
  data.accom = value;
  const accomBox = document.getElementById('accomBox');
  accomBox.style.display = value ? "block" : "none";

  document
    .querySelectorAll(".toggle-btn")
    .forEach(btn => btn.classList.remove("active"));

  event.target.classList.add("active");
  validateBooking();
}

/* =========================
   CHILD AGES
========================= */
function updateChildAges() {
  const count = parseInt(document.getElementById('child').value || 0, 10);
  const container = document.getElementById("childAges");
  const inputsContainer = document.getElementById("childAgesInputs");

  inputsContainer.innerHTML = "";
  if (count <= 0) {
    container.style.display = "none";
    return;
  }

  container.style.display = "block";

  for (let i = 1; i <= count; i++) {
    const input = document.createElement("input");
    input.type = "number";
    input.min = "0";
    input.max = "17";
    input.className = "form-control mb-2 child-age";
    input.placeholder = `Child ${i} Age`;
    input.style.cssText = "background:#0f2a3a!important;color:#fff!important;border-radius:18px;padding:16px;border:1px solid rgba(255,255,255,.2);";
    inputsContainer.appendChild(input);
  }
}

/* =========================
   STAY TYPE
========================= */
function setStay(el, value) {
  data.stay = value;
  document
    .querySelectorAll(".stay-option")
    .forEach(o => o.classList.remove("active"));
  el.classList.add("active");
}

/* =========================
   MODAL
========================= */
function openModal() {
  new bootstrap.Modal(document.getElementById("finalModal")).show();
}

/* =========================
   WHATSAPP SEND
========================= */
function sendWA() {
  const name = document.getElementById('m_name').value.trim();
  const phone = document.getElementById('m_phone').value.trim();
  const pickup = document.getElementById('m_pickup').value.trim();
  const drop = document.getElementById('m_drop').value.trim();
  const dateTime = document.getElementById('m_time').value;

  if (!name || !phone || !pickup || !drop || !dateTime) {
    alert("Please fill all details");
    return;
  }

  const d = new Date(dateTime);
  const day = d.getDate().toString().padStart(2, "0");
  const month = (d.getMonth() + 1).toString().padStart(2, "0");
  const year = d.getFullYear();
  let h = d.getHours();
  const m = d.getMinutes().toString().padStart(2, "0");
  const ap = h >= 12 ? "PM" : "AM";
  h = h % 12 || 12;
  const formattedDateTime = `${day}-${month}-${year} ${h}:${m} ${ap}`;

  const childAges = [...document.querySelectorAll(".child-age")]
    .map(i => i.value)
    .filter(v => v !== "");

  const message = `ðŸŒ„ *Tour Package Enquiry*

ðŸ‘¤ *Name:* ${name}
ðŸ“ž *Phone:* ${phone}

ðŸ—“ *Duration:* ${data.duration}
ðŸ· *Trip Type:* ${data.category}

ðŸ“ *Destinations:*
${data.places.map(p => "â€¢ " + p).join("\n")}

ðŸš• *Pickup:* ${pickup}
ðŸŽ¯ *Drop:* ${drop}
ðŸ•’ *Pickup Date & Time:* ${formattedDateTime}

ðŸ¨ *Accommodation:* ${data.accom ? data.stay : "Not Required"}
ðŸ‘¨â€ðŸ‘©â€ðŸ‘§ *Adults:* ${document.getElementById('adult').value}
ðŸ‘¶ *Children:* ${document.getElementById('child').value}${childAges.length ? " (Ages: " + childAges.join(", ") + ")" : ""}

âœ¨ *Please share itinerary & quotation*`;

  window.open(
    "https://wa.me/919751415617?text=" + encodeURIComponent(message),
    "_blank"
  );
}

/* =========================
   FLOATING BAR HIDE ON SCROLL
========================= */
let lastScroll = 0;
window.addEventListener("scroll", () => {
  const current = window.scrollY;
  const fab = document.getElementById('fabBar');
  if (fab) {
    fab.classList.toggle("fab-hide", current > lastScroll && current > 100);
  }
  lastScroll = current;
});

/* =========================
   DATETIME MIN VALUE
========================= */
document.addEventListener("DOMContentLoaded", () => {
  const pickupInput = document.getElementById("m_time");
  if (!pickupInput) return;

  const now = new Date();
  now.setMinutes(now.getMinutes() - now.getTimezoneOffset());
  pickupInput.min = now.toISOString().slice(0, 16);
});
</script>

</body>
</html>
