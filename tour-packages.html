<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Tour Packages â€“ Green Eagle Tours & Travels</title>

<link rel="icon" href="images/logo.png">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@300;400;600&family=Inter:wght@400;600&display=swap" rel="stylesheet">
<link rel="stylesheet" href="style.css">

<!-- PAGE-ONLY CSS -->
<style>
@media(max-width:768px){
  body{font-size:12px}
  h1{font-size:25px}
  h5{font-size:14px}
}

/* chips */
.chip{
  border:1px solid rgba(255,255,255,.25);
  padding:10px 16px;
  border-radius:30px;
  cursor:pointer;
  margin:6px;
  display:inline-block;
}
.chip.active{
  background:var(--gold);
  color:#000;
}

/* toggles */
.toggle-btn{
  border:1px solid rgba(255,255,255,.3);
  padding:14px;
  border-radius:16px;
  cursor:pointer;
}
.toggle-btn.active{
  background:var(--gold);
  color:#000;
}

/* stay */
.stay-option{
  border:1px solid rgba(255,255,255,.25);
  padding:10px;
  border-radius:16px;
  cursor:pointer;
  text-align:center;
}
.stay-option.active{
  background:var(--gold);
  color:#000;
}

/* buttons */
.book-btn{
  background:var(--gold);
  color:#000 !important;
  border:none;
  padding:14px;
  border-radius:30px;
  font-weight:600;
  width:100%;
}

/* modal inputs unified */
.modal-content input,
.modal-content input:focus{
  background:#0f2a3a!important;
  color:#fff!important;
  border-radius:18px;
  padding:16px;
  border:1px solid rgba(255,255,255,.2);
  outline:none;
}
.modal-content input::placeholder{
  color:rgba(255,255,255,.6);
}
.modal-content input[type="datetime-local"]::-webkit-calendar-picker-indicator{
  filter:invert(1);
}


.accordion-item {
  background: transparent;
  border: 1px solid rgba(255,255,255,.15);
  border-radius: 16px;
}

.accordion-button {
  background: transparent;
  color: #fff;
  font-weight: 600;
  border-radius: 16px;
}

.accordion-button:not(.collapsed) {
  background: rgba(255,255,255,.05);
  color:var(--gold);
}

.accordion-body {
  color: rgba(255,255,255,.85);
}

.accordion-button::after {
  filter: invert(1);
}
/* Text turns black ONLY on hover */
.btn-hover-black:hover,
.btn-hover-black:hover i {
  color: #000000 !important;
}

/* Counter buttons */
.counter-wrapper {
  display: flex;
  align-items: center;
  gap: 10px;
}

.counter-btn {
  background: var(--gold);
  color: #000;
  border: none;
  width: 40px;
  height: 40px;
  border-radius: 50%;
  font-size: 20px;
  font-weight: bold;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.3s;
}

.counter-btn:hover {
  transform: scale(1.1);
}

.counter-btn:disabled {
  background: rgba(255,255,255,.2);
  cursor: not-allowed;
  transform: scale(1);
}

.counter-value {
  font-size: 24px;
  font-weight: 600;
  min-width: 50px;
  text-align: center;
  color: var(--gold);
}

</style>
</head>

<body>

<!-- NAV -->
<nav class="glass-nav">
<div class="container d-flex justify-content-between py-3">
  <div class="logo-wrapper">
    <img src="images/logo.png" alt="Green Eagle Tours" class="nav-logo">
  </div>
<div class="d-none d-lg-flex gap-5">
<a href="index.html" class="nav-link">Home</a>
<a href="tour-packages.html" class="nav-link">Tour Packages</a>
<a href="hourly-packages.html" class="nav-link">Hourly Packages</a>
<a href="services.html" class="nav-link">Services</a>
<a href="about.html" class="nav-link">About</a>
<a href="contact.html" class="nav-link">Contact</a>
</div>
</div>
</nav>



  <!-- MOBILE MENU -->
  <div class="menu-overlay" id="menuOverlay" onclick="closeMenu()"></div>

  <div class="mobile-menu" id="mobileMenu">
    <img src="images/logo.png" alt="Green Eagle Tours" style="width:140px;margin-bottom:40px;">

    <a href="index.html" onclick="closeMenu()">Home</a>
    <a href="tour-packages.html" class="active" onclick="closeMenu()">Tour Packages</a>
    <a href="hourly-packages.html" onclick="closeMenu()">Hourly Packages</a>
    <a href="services.html" onclick="closeMenu()">Services</a>
    <a href="about.html" onclick="closeMenu()">About</a>
    <a href="contact.html" onclick="closeMenu()">Contact</a>

  </div>


<!-- HERO (MATCHES HOURLY PAGE) -->
<section class="hero-section" style="min-height:65vh">
  <div class="hero-bg"></div>
  <div class="container hero-content text-center">
    <div style="color:var(--gold);letter-spacing:3px;font-size:14px;">TOUR PACKAGES</div>
    <h1 class="hero-title">Plan Your Perfect South India Trip</h1>
    <p class="hero-subtitle mx-auto" style="max-width:700px;">
      Select duration, travel type & destinations. Final details in one simple step.
    </p>
  </div>
</section>


<section style="background:#0f172a">
<div class="container py-5">
  <form onsubmit="return false">

    <!-- DURATION -->
    <h5>Trip Duration <span class="text-danger">*</span></h5>
    <div>
      <span class="chip" onclick="setDuration('1 Day')">1 Day</span>
      <span class="chip" onclick="setDuration('2D / 1N')">2D / 1N</span>
      <span class="chip" onclick="setDuration('3D / 2N')">3D / 2N</span>
      <span class="chip" onclick="setDuration('4D / 3N')">4D / 3N</span>
      <span class="chip" onclick="setDuration('5D / 4N')">5D / 4N</span>
    </div>

    <!-- CATEGORY -->
    <h5 class="mt-4">Trip Type <span class="text-danger">*</span></h5>
    <div>
      <span class="chip" onclick="setCategory('Hill Station')">Hill Station</span>
      <span class="chip" onclick="setCategory('Pilgrimage')">Pilgrimage</span>
      <span class="chip" onclick="setCategory('Beach')">Beach</span>
      <span class="chip" onclick="setCategory('Honeymoon')">Honeymoon</span>
      <span class="chip" onclick="setCategory('Group Tour')">Group Tour</span>
      <span class="chip" onclick="setCategory('City Tour')">City Tour</span>
    </div>

    <!-- PLACES -->
    <div id="placesSection" style="display:none;">
      <h5 class="mt-4">
        Select Destinations <span class="text-danger">*</span>
        <span class="place-counter" id="placeCounter">0/0 selected</span>
      </h5>
      <div id="placesBox"></div>
      <input
        id="customPlace"
        class="form-control mt-2"
        placeholder="Other place (optional)"
        style="background:#0f2a3a!important;color:#fff!important;border-radius:18px;padding:16px;border:1px solid rgba(255,255,255,.2);"
        onblur="addCustomPlace()"
      >

      <!-- Alert Box -->
      <div id="alertBox" class="alert-box">
        <i class="bi bi-exclamation-triangle-fill me-2"></i>
        <span id="alertText"></span>
      </div>
    </div>

    <!-- ACCOMMODATION -->
    <div id="accomSection">
      <h5 class="mt-4">Need Accommodation? <span class="text-danger">*</span></h5>
      <div class="row g-3">
        <div class="col-md-6 toggle-btn" onclick="setAccom(true)">Yes</div>
        <div class="col-md-6 toggle-btn" onclick="setAccom(false)">No</div>
      </div>

      <!-- ACCOMMODATION BOX -->
      <div id="accomBox" style="display:none">

        <!-- ADULTS & CHILDREN WITH COUNTERS -->
        <div class="row mt-4">
          <div class="col-md-6">
            <label class="mb-2">Adults</label>
            <div class="counter-wrapper">
              <button type="button" class="counter-btn" onclick="decrementAdults()">âˆ’</button>
              <span class="counter-value" id="adultCount">1</span>
              <button type="button" class="counter-btn" onclick="incrementAdults()">+</button>
            </div>
          </div>

          <div class="col-md-6">
            <label class="mb-2">Children</label>
            <div class="counter-wrapper">
              <button type="button" class="counter-btn" onclick="decrementChildren()">âˆ’</button>
              <span class="counter-value" id="childCount">0</span>
              <button type="button" class="counter-btn" onclick="incrementChildren()">+</button>
            </div>
          </div>
        </div>

        <!-- CHILD AGES -->
        <div id="childAges" class="mt-3" style="display:none;">
          <label>Children Ages</label>
          <div id="childAgesInputs"></div>
        </div>

        <!-- STAY TYPE -->
        <h5 class="mt-4">Accommodation Style</h5>
        <div class="row g-3">
          <div class="col stay-option" onclick="setStay(this,'Budget')">Budget</div>
          <div class="col stay-option" onclick="setStay(this,'Home Stay')">Home Stay</div>
          <div class="col stay-option active" onclick="setStay(this,'3-Star')">3-Star</div>
          <div class="col stay-option" onclick="setStay(this,'4-Star')">4-Star</div>
          <div class="col stay-option" onclick="setStay(this,'5-Star')">5-Star</div>
        </div>

      </div>
    </div>

    <!-- BOOK -->
    <div class="mt-5">
      <button class="book-btn" id="bookBtn" onclick="openModal()" disabled>Book Now</button>
      <p class="text-center mt-3" style="opacity:0.7;font-size:14px;" id="bookHint">
        Please select duration, trip type, and destinations to continue
      </p>
    </div>

  </form>

</div>
</section>

<!-- MODAL -->
<div class="modal fade" id="finalModal">
<div class="modal-dialog modal-dialog-centered">
<div class="modal-content p-4">
<h5 style="color:black" class="mb-3">Enter Trip Details</h5>
<input id="m_name" placeholder="Your Name" class="form-control mb-2" required>
<input id="m_phone" placeholder="Phone Number (10 digits)" class="form-control mb-2" type="tel" maxlength="10" pattern="[0-9]{10}" required>
<input id="m_pickup" placeholder="Pickup Location" class="form-control mb-2" required>
<input id="m_drop" placeholder="Drop Location" class="form-control mb-2" required>
<small class="text-muted d-block mb-2">
  Select pickup date & time
</small>
<input id="m_time" type="datetime-local" class="form-control mb-3" required>
<button class="book-btn" onclick="sendWA()">Send WhatsApp</button>
</div>
</div>
</div>


<!-- FAQ SECTION -->
<section style="background:#0f172a">
  <div class="container py-5">

    <div class="text-center mb-5">
      <div style="color:var(--gold);letter-spacing:3px;font-size:14px;">
        FAQ
      </div>
      <h2 class="hero-title" style="font-size:32px;">
        Frequently Asked Questions
      </h2>
      <p class="hero-subtitle mx-auto" style="max-width:720px;">
        Clear answers to help you plan your South India tour with confidence.
        If you still have doubts, call us and we will plan your itinerary together.
      </p>
    </div>

    <div class="accordion" id="faqAccordion">

      <!-- FAQ 1 -->
      <div class="accordion-item mb-3">
        <h2 class="accordion-header">
          <button class="accordion-button collapsed" data-bs-toggle="collapse" data-bs-target="#faq1">
            What destinations do you cover in South India?
          </button>
        </h2>
        <div id="faq1" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
          <div class="accordion-body">
            We cover all major South India destinations including
            Tamil Nadu, Kerala, Karnataka, and Andhra Pradesh.
            Popular routes include Ooty, Kodaikanal, Munnar, Coorg,
            Rameswaram, Madurai, Kanyakumari, Wayanad, and many more.
            Custom destinations can also be added.
          </div>
        </div>
      </div>

      <!-- FAQ 2 -->
      <div class="accordion-item mb-3">
        <h2 class="accordion-header">
          <button class="accordion-button collapsed" data-bs-toggle="collapse" data-bs-target="#faq2">
            Can I customize my tour itinerary?
          </button>
        </h2>
        <div id="faq2" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
          <div class="accordion-body">
            Yes. All our tour packages are fully customizable.
            You can choose trip duration, destinations, travel type,
            accommodation style, and pickup & drop locations.
            We plan the itinerary together based on your comfort and budget.
          </div>
        </div>
      </div>

      <!-- FAQ 3 -->
      <div class="accordion-item mb-3">
        <h2 class="accordion-header">
          <button class="accordion-button collapsed" data-bs-toggle="collapse" data-bs-target="#faq3">
            Do you provide accommodation booking?
          </button>
        </h2>
        <div id="faq3" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
          <div class="accordion-body">
            Yes, accommodation is optional.
            We offer budget hotels, home stays, 3-star, 4-star,
            and 5-star properties based on availability and your preference.
            You may also choose travel-only packages.
          </div>
        </div>
      </div>

      <!-- FAQ 4 -->
      <div class="accordion-item mb-3">
        <h2 class="accordion-header">
          <button class="accordion-button collapsed" data-bs-toggle="collapse" data-bs-target="#faq4">
            Is this suitable for family and senior citizens?
          </button>
        </h2>
        <div id="faq4" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
          <div class="accordion-body">
            Absolutely. Our itineraries are planned with realistic travel
            timings, comfortable breaks, and easy sightseeing options.
            We prioritize safety, comfort, and convenience for families
            and senior travelers.
          </div>
        </div>
      </div>

      <!-- FAQ 5 -->
      <div class="accordion-item mb-3">
        <h2 class="accordion-header">
          <button class="accordion-button collapsed" data-bs-toggle="collapse" data-bs-target="#faq5">
            What vehicles do you provide for tours?
          </button>
        </h2>
        <div id="faq5" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
          <div class="accordion-body">
            We provide clean and well-maintained vehicles including
            Sedans, Ertiga, Innova, Tempo Traveller, and Mini Coaches.
            Vehicle type is selected based on group size and comfort.
          </div>
        </div>
      </div>

      <!-- FAQ 6 -->
      <div class="accordion-item mb-3">
        <h2 class="accordion-header">
          <button class="accordion-button collapsed" data-bs-toggle="collapse" data-bs-target="#faq6">
            What if I have doubts or need changes after booking?
          </button>
        </h2>
        <div id="faq6" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
          <div class="accordion-body">
            You can call or WhatsApp us anytime.
            Our team will assist you with itinerary changes,
            pickup adjustments, or additional requirements.
            We believe in flexible and friendly service.
          </div>
        </div>
      </div>

    </div>

    <!-- CTA -->
    <div class="text-center mt-5">
      <p style="opacity:.85;max-width:700px;margin:0 auto 20px;">
        Still unsure? One call is enough.
        We will plan your South India itinerary together.
      </p>

      <a href="tel:+919751415617"
       class="btn-luxury btn-hover-black"
       style="max-width:320px;margin:auto;">
      <i class="bi bi-telephone-fill me-2"></i>
      <span>Call Now for Travel Advice</span>
    </a>



  </div>
</section>



  <!-- FOOTER -->
  <footer>
  <div class="container">
    <div class="text-center">
      <img src="images/logo.png" alt="Green Eagle Tours" style="height: 70px; margin-bottom: 20px;">

      <p style="opacity: 0.8; max-width: 600px; margin: 0 auto 30px;">
        Your premier travel partner for curated journeys from Coimbatore across South India. Excellence in every mile.
      </p>

      <div class="footer-divider"></div>

      <div class="mb-4">
        <!-- WhatsApp -->
        <a href="https://wa.me/919751415617" class="social-link" target="_blank">
          <i class="bi bi-whatsapp"></i>
        </a>

        <!-- Phone -->
        <a href="tel:+919751415617" class="social-link">
          <i class="bi bi-telephone-fill"></i>
        </a>

        <!-- Email -->
        <a href="mailto:support@greeneagletours.com" class="social-link">
          <i class="bi bi-envelope-fill"></i>
        </a>

        <!-- Facebook (add link later) -->
        <a href="https://www.facebook.com/share/1GHVkhtPcd/" class="social-link" target="_blank">
          <i class="bi bi-facebook"></i>
        </a>

        <!-- Instagram (add link later) -->
        <a href="https://www.instagram.com/green_eagle_holidays?igsh=MW9zcmtlYXlpeXRoYg==
" class="social-link" target="_blank">
          <i class="bi bi-instagram"></i>
        </a>
      </div>

<p style="font-size: 14px; opacity: 0.7;">
  GST : 33BVFPG0418P1ZM
</p>
      <p style="font-size: 14px; opacity: 0.7;">
        78, Siruvani Main Rd, Post office upstairs, Perur, Coimbatore, Tamil Nadu 641010
      </p>
      <p style="font-size: 14px; opacity: 0.7;">
        Â© 2026 Green Eagle Tours & Travels.
      </p>
      <p style="font-size: 14px; opacity: 0.7;">
        Designed & curated by
        <a href="https://marcinmind.in" target="_blank" style="text-decoration: none; color: var(--gold);">
          Marc in Mind Technologies
        </a>.
      </p>
    </div>
  </div>
</footer>


<!-- FLOATING ACTION BAR (MOBILE â€“ SAME AS INDEX) -->
<div class="fab-bar" id="fabBar">
  <div class="container-fluid px-0">
    <div class="row g-0">

      <div class="col d-lg-none">
        <a href="index.html" class="fab-item">
          <i class="bi bi-house-fill"></i>
          <span>Home</span>
        </a>
      </div>

      <div class="col">
        <a href="mailto:support@greeneagletours.com" class="fab-item">
          <i class="bi bi-envelope-fill"></i>
          <span>Mail</span>
        </a>
      </div>


      <div class="col">
        <a href="https://wa.me/919751415617" class="fab-item" target="_blank">
          <i class="bi bi-whatsapp"></i>
          <span>WhatsApp</span>
        </a>
      </div>

      <div class="col">
        <a href="tel:+919751415617" class="fab-item">
          <i class="bi bi-telephone-fill"></i>
          <span>Call</span>
        </a>
      </div>

      <div class="col d-lg-none">
        <a href="javascript:void(0)" onclick="openMenu()" class="fab-item">
          <i class="bi bi-list"></i>
          <span>Menu</span>
        </a>
      </div>

    </div>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<script src="script.js" ></script>
<script>
/* =========================
   MOBILE MENU
========================= */
function openMenu() {
  document.getElementById('mobileMenu').classList.add('active');
  document.getElementById('menuOverlay').classList.add('active');
}

function closeMenu() {
  document.getElementById('mobileMenu').classList.remove('active');
  document.getElementById('menuOverlay').classList.remove('active');
}

/* =========================
   GLOBAL STATE
========================= */
const data = {
  duration: "",
  category: "",
  places: [],
  stay: "3-Star",
  accom: null,
  adults: 1,
  children: 0
};

/* =========================
   DESTINATION DATABASE
========================= */
const destinationDB = {
  "Hill Station": {
    "1 Day": ["Ooty", "Valparai"],
    "2D / 1N": ["Ooty", "Coonoor", "Valparai"],
    "3D / 2N": ["Ooty", "Coonoor", "Kotagiri", "Valparai", "Wayanad", "Coorg"],
    "4D / 3N": ["Ooty", "Coonoor", "Kotagiri", "Valparai", "Wayanad", "Coorg", "Kodaikanal", "Munnar"],
    "5D / 4N": ["Ooty", "Coonoor", "Kotagiri", "Valparai", "Wayanad", "Coorg", "Kodaikanal", "Munnar", "Yercaud", "Vagamon", "Vattakanal"]
  },

  "Pilgrimage": {
    "1 Day": ["Coimbatore Local", "Palani"],
    "2D / 1N": ["Palani", "Madurai", "Palakkad", "Thrissur"],
    "3D / 2N": ["Palani", "Madurai", "Rameswaram", "Thrissur", "Guruvayur"],
    "4D / 3N": ["Palani", "Madurai", "Rameswaram", "Kanyakumari", "Tiruchendur", "Guruvayur", "Srivilliputhur"],
    "5D / 4N": ["Palani", "Madurai", "Rameswaram", "Kanyakumari", "Tiruchendur", "Trivandrum", "Tirupati", "Srirangam", "Chidambaram", "Velankanni"]
  },

  "Beach": {
    "1 Day": ["Snehatheeram Beach"],
    "2D / 1N": ["Snehatheeram Beach","Kochi"],
    "3D / 2N": ["Snehatheeram Beach","Kochi", "Kovalam", "Varkala", "Alappuzha"],
    "4D / 3N": ["Snehatheeram Beach","Kochi", "Kovalam", "Varkala", "Alappuzha", "Kanyakumari", "Mahabalipuram", "Pondicherry"],
    "5D / 4N": ["Snehatheeram Beach","Kochi", "Kovalam", "Varkala", "Alappuzha", "Kanyakumari", "Mahabalipuram", "Pondicherry", "Rameswaram", "Bekal", "Gokarna"]
  },

  "Honeymoon": {
    "1 Day": ["Ooty", "Valparai"],
    "2D / 1N": ["Ooty", "Coonoor", "Kodaikanal", "Valparai"],
    "3D / 2N": ["Ooty", "Kodaikanal", "Munnar", "Wayanad", "Coorg", "Vagamon", "Alappuzha"],
    "4D / 3N": ["Ooty", "Kodaikanal", "Munnar", "Wayanad", "Coorg", "Vagamon", "Alappuzha", "Kumarakom", "Vattakanal"],
    "5D / 4N": ["Ooty", "Kodaikanal", "Munnar", "Wayanad", "Coorg", "Vagamon", "Alappuzha", "Kumarakom", "Vattakanal", "Kovalam", "Yercaud"]
  },

  "Group Tour": {
    "1 Day": ["Ooty", "Pollachi", "Valparai"],
    "2D / 1N": ["Ooty", "Coonoor", "Valparai", "Mysore"],
    "3D / 2N": ["Ooty", "Coonoor", "Kodaikanal", "Wayanad", "Coorg", "Mysore", "Madurai"],
    "4D / 3N": ["Ooty", "Kodaikanal", "Munnar", "Wayanad", "Coorg", "Mysore", "Madurai", "Rameswaram", "Kochi"],
    "5D / 4N": ["Ooty", "Kodaikanal", "Munnar", "Wayanad", "Coorg", "Mysore", "Madurai", "Rameswaram", "Kanyakumari", "Kochi", "Trivandrum", "Bangalore"]
  },

  "City Tour": {
    "1 Day": ["Coimbatore Local", "Pollachi", "Palakkad"],
    "2D / 1N": ["Coimbatore Local", "Pollachi", "Palakkad","Mysore", "Kochi", "Thrissur"],
    "3D / 2N": ["Coimbatore Local", "Pollachi", "Palakkad","Mysore", "Kochi", "Madurai", "Bangalore"],
    "4D / 3N": ["Coimbatore Local", "Pollachi", "Palakkad","Mysore", "Kochi", "Madurai", "Bangalore", "Pondicherry", "Trichy"],
    "5D / 4N": ["Coimbatore Local", "Pollachi", "Palakkad","Mysore", "Kochi", "Madurai", "Bangalore", "Trivandrum", "Pondicherry", "Trichy", "Chennai"]
  }
};


// Maximum places allowed per duration
const maxPlaces = {
  "1 Day": 1,
  "2D / 1N": 3,
  "3D / 2N": 4,
  "4D / 3N": 5,
  "5D / 4N": 7
};

/* =========================
   ADULT/CHILD COUNTER FUNCTIONS
========================= */
function incrementAdults() {
  data.adults++;
  document.getElementById('adultCount').textContent = data.adults;
}

function decrementAdults() {
  if (data.adults > 1) {
    data.adults--;
    document.getElementById('adultCount').textContent = data.adults;
  }
}

function incrementChildren() {
  data.children++;
  document.getElementById('childCount').textContent = data.children;
  updateChildAges();
}

function decrementChildren() {
  if (data.children > 0) {
    data.children--;
    document.getElementById('childCount').textContent = data.children;
    updateChildAges();
  }
}

/* =========================
   UI HELPERS
========================= */
function activateChip(el) {
  const siblings = el.parentNode.querySelectorAll(".chip");
  siblings.forEach(c => c.classList.remove("active"));
  el.classList.add("active");
}

function showAlert(message) {
  const alertBox = document.getElementById('alertBox');
  const alertText = document.getElementById('alertText');
  alertText.textContent = message;
  alertBox.classList.add('show');

  setTimeout(() => {
    alertBox.classList.remove('show');
  }, 5000);
}

function updateCounter() {
  const max = maxPlaces[data.duration] || 0;
  const current = data.places.length;
  const counter = document.getElementById('placeCounter');
  counter.textContent = `${current}/${max} selected`;

  if (current >= max) {
    showAlert(`Maximum ${max} destinations allowed for ${data.duration} trip`);
  }
}

function validateBooking() {
  let hasEssentials;

  // For 1 Day trips, accommodation is not required
  if (data.duration === "1 Day") {
    hasEssentials = data.duration && data.category && data.places.length > 0;
  } else {
    hasEssentials = data.duration && data.category && data.places.length > 0 && data.accom !== null;
  }

  const bookBtn = document.getElementById('bookBtn');
  const bookHint = document.getElementById('bookHint');

  if (hasEssentials) {
    bookBtn.disabled = false;
    bookHint.textContent = "All set! Click to proceed with booking";
    bookHint.style.color = "var(--gold)";
  } else {
    bookBtn.disabled = true;
    if (data.duration === "1 Day") {
      bookHint.textContent = "Please select trip type and destinations to continue";
    } else {
      bookHint.textContent = "Please select duration, trip type, and destinations to continue";
    }
    bookHint.style.color = "rgba(255,255,255,0.7)";
  }
}

/* =========================
   DURATION
========================= */
function setDuration(value) {
  data.duration = value;
  activateChip(event.target);

  // Reset places when duration changes
  data.places = [];

  // Show/hide accommodation section based on duration
  const accomSection = document.getElementById('accomSection');
  if (value === "1 Day") {
    accomSection.style.display = "none";
    data.accom = false; // Set to false for 1 Day trips
  } else {
    accomSection.style.display = "block";
    data.accom = null; // Reset for multi-day trips
  }

  // If category is already selected, update places
  if (data.category) {
    updatePlacesForCategory();
  }

  validateBooking();
}

/* =========================
   CATEGORY
========================= */
function setCategory(value) {
  data.category = value;
  activateChip(event.target);

  // Reset places
  data.places = [];

  updatePlacesForCategory();
  validateBooking();
}

function updatePlacesForCategory() {
  const placesSection = document.getElementById('placesSection');
  const placesBox = document.getElementById('placesBox');

  if (!data.duration || !data.category) {
    placesSection.style.display = 'none';
    return;
  }

  placesSection.style.display = 'block';
  placesBox.innerHTML = "";

  const availablePlaces = destinationDB[data.category][data.duration] || [];

  availablePlaces.forEach(place => {
    const chip = document.createElement("span");
    chip.className = "chip";
    chip.textContent = place;
    chip.onclick = () => togglePlace(chip, place);
    placesBox.appendChild(chip);
  });

  updateCounter();
}

/* =========================
   PLACES
========================= */
function togglePlace(el, place) {
  const max = maxPlaces[data.duration] || 0;

  if (el.classList.contains("active")) {
    // Remove place
    el.classList.remove("active");
    data.places = data.places.filter(p => p !== place);
  } else {
    // Add place
    if (data.places.length >= max) {
      showAlert(`Maximum ${max} destinations allowed for ${data.duration} trip`);
      return;
    }
    el.classList.add("active");
    data.places.push(place);
  }

  updateCounter();
  validateBooking();
}

function addCustomPlace() {
  const value = document.getElementById('customPlace').value.trim();
  if (!value) return;

  const max = maxPlaces[data.duration] || 0;

  if (data.places.length >= max) {
    showAlert(`Maximum ${max} destinations allowed for ${data.duration} trip`);
    document.getElementById('customPlace').value = "";
    return;
  }

  if (!data.places.includes(value)) {
    data.places.push(value);

    // Add visual chip
    const placesBox = document.getElementById('placesBox');
    const chip = document.createElement("span");
    chip.className = "chip active";
    chip.textContent = value;
    chip.onclick = () => {
      chip.classList.remove("active");
      data.places = data.places.filter(p => p !== value);
      updateCounter();
      validateBooking();
    };
    placesBox.appendChild(chip);

    updateCounter();
    validateBooking();
  }

  document.getElementById('customPlace').value = "";
}

/* =========================
   ACCOMMODATION
========================= */
function setAccom(value) {
  data.accom = value;
  const accomBox = document.getElementById('accomBox');
  accomBox.style.display = value ? "block" : "none";

  document
    .querySelectorAll(".toggle-btn")
    .forEach(btn => btn.classList.remove("active"));

  event.target.classList.add("active");
  validateBooking();
}

/* =========================
   CHILD AGES
========================= */
function updateChildAges() {
  const count = data.children;
  const container = document.getElementById("childAges");
  const inputsContainer = document.getElementById("childAgesInputs");

  inputsContainer.innerHTML = "";
  if (count <= 0) {
    container.style.display = "none";
    return;
  }

  container.style.display = "block";

  for (let i = 1; i <= count; i++) {
    const input = document.createElement("input");
    input.type = "number";
    input.min = "0";
    input.max = "17";
    input.className = "form-control mb-2 child-age";
    input.placeholder = `Child ${i} Age`;
    input.style.cssText = "background:#0f2a3a!important;color:#fff!important;border-radius:18px;padding:16px;border:1px solid rgba(255,255,255,.2);";
    inputsContainer.appendChild(input);
  }
}

/* =========================
   STAY TYPE
========================= */
function setStay(el, value) {
  data.stay = value;
  document
    .querySelectorAll(".stay-option")
    .forEach(o => o.classList.remove("active"));
  el.classList.add("active");
}

/* =========================
   MODAL
========================= */
function openModal() {
  new bootstrap.Modal(document.getElementById("finalModal")).show();
}

/* =========================
   PHONE NUMBER VALIDATION
========================= */
document.addEventListener('DOMContentLoaded', function() {
  const phoneInput = document.getElementById('m_phone');

  phoneInput.addEventListener('input', function(e) {
    // Remove any non-digit characters
    this.value = this.value.replace(/[^0-9]/g, '');

    // Limit to 10 digits
    if (this.value.length > 10) {
      this.value = this.value.slice(0, 10);
    }
  });

  phoneInput.addEventListener('keypress', function(e) {
    // Only allow numbers
    if (e.key < '0' || e.key > '9') {
      e.preventDefault();
    }
  });
});

/* =========================
   WHATSAPP SEND WITH VALIDATION
========================= */
function sendWA() {
  const name = document.getElementById('m_name').value.trim();
  const phone = document.getElementById('m_phone').value.trim();
  const pickup = document.getElementById('m_pickup').value.trim();
  const drop = document.getElementById('m_drop').value.trim();
  const dateTime = document.getElementById('m_time').value;

  // Validate all required fields
  if (!name) {
    alert("Please enter your name");
    document.getElementById('m_name').focus();
    return;
  }

  if (!phone) {
    alert("Please enter your phone number");
    document.getElementById('m_phone').focus();
    return;
  }

  // Validate phone number is exactly 10 digits
  if (phone.length !== 10) {
    alert("Phone number must be exactly 10 digits");
    document.getElementById('m_phone').focus();
    return;
  }

  if (!pickup) {
    alert("Please enter pickup location");
    document.getElementById('m_pickup').focus();
    return;
  }

  if (!drop) {
    alert("Please enter drop location");
    document.getElementById('m_drop').focus();
    return;
  }

  if (!dateTime) {
    alert("Please select pickup date and time");
    document.getElementById('m_time').focus();
    return;
  }

  const d = new Date(dateTime);
  const day = d.getDate().toString().padStart(2, "0");
  const month = (d.getMonth() + 1).toString().padStart(2, "0");
  const year = d.getFullYear();
  let h = d.getHours();
  const m = d.getMinutes().toString().padStart(2, "0");
  const ap = h >= 12 ? "PM" : "AM";
  h = h % 12 || 12;
  const formattedDateTime = `${day}-${month}-${year} ${h}:${m} ${ap}`;

  const childAges = [...document.querySelectorAll(".child-age")]
    .map(i => i.value)
    .filter(v => v !== "");

  let message = `ðŸŒ„ *Tour Package Enquiry*

ðŸ‘¤ *Name:* ${name}
ðŸ“ž *Phone:* ${phone}

ðŸ—“ *Duration:* ${data.duration}
ðŸ· *Trip Type:* ${data.category}

ðŸ“ *Destinations:*
${data.places.map(p => "â€¢ " + p).join("\n")}

ðŸš• *Pickup:* ${pickup}
ðŸŽ¯ *Drop:* ${drop}
ðŸ•’ *Pickup Date & Time:* ${formattedDateTime}`;

  // Only add accommodation details for multi-day trips
  if (data.duration !== "1 Day") {
    message += `

ðŸ¨ *Accommodation:* ${data.accom ? data.stay : "Not Required"}
ðŸ‘¨â€ðŸ‘©â€ðŸ‘§ *Adults:* ${data.adults}
ðŸ‘¶ *Children:* ${data.children}${childAges.length ? " (Ages: " + childAges.join(", ") + ")" : ""}`;
  }

  message += `

âœ¨ *Please share itinerary & quotation*`;

  window.open(
    "https://wa.me/919751415617?text=" + encodeURIComponent(message),
    "_blank"
  );
}

/* =========================
   FLOATING BAR HIDE ON SCROLL
========================= */
let lastScroll = 0;
window.addEventListener("scroll", () => {
  const current = window.scrollY;
  const fab = document.getElementById('fabBar');
  if (fab) {
    fab.classList.toggle("fab-hide", current > lastScroll && current > 100);
  }
  lastScroll = current;
});

/* =========================
   DATETIME MIN VALUE
========================= */
document.addEventListener("DOMContentLoaded", () => {
  const pickupInput = document.getElementById("m_time");
  if (!pickupInput) return;

  const now = new Date();
  now.setMinutes(now.getMinutes() - now.getTimezoneOffset());
  pickupInput.min = now.toISOString().slice(0, 16);
});
</script>




</body>
</html>
